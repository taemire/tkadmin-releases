# tkadmin 소개

## tkadmin이란?

**tkadmin**은 TACHYON 솔루션의 고성능 설정 관리 및 운영 자동화 도구입니다. 복잡한 서버 환경 설정을 웹 인터페이스를 통해 직관적으로 제어하며, 단일 바이너리 배포를 통해 설치 및 운영 편의성을 극대화합니다.

tkadmin은 TACHYON 솔루션이 설치된 리눅스 서버에 배포되어, 운영자가 별도의 터미널 접속 없이도 웹 브라우저만으로 솔루션의 전반적인 설정과 상태를 관리할 수 있도록 지원합니다. 특히 폐쇄망(Air-gap) 환경에서도 외부 인터넷 연결 없이 100% 동작하도록 설계되었습니다.

- **제품 버전**: 0.6.0
- **기술 스택**: Go (Gin) + Vanilla JS (Web Components) + Monaco Editor

---

## 주요 기능 요약

### 1. 단일 바이너리 배포 (Single-Binary)
모든 웹 리소스(HTML, CSS, JS, 라이브러리)를 Go의 `go:embed` 기술로 바이너리에 내장합니다. 외부 의존성 없이 바이너리 파일 하나만으로 전체 서비스를 실행할 수 있어 배포와 관리가 매우 간편합니다.

### 2. 환경 자동 탐색 (Environment Discovery)
TACHYON 서버의 운영 환경 정보를 동적으로 크롤링하여 MariaDB, Redis, OpenSearch, Kafka 등의 연결 정보를 자동으로 감지합니다. 설정 파일이 훼손되거나 존재하지 않는 극한 상황에서도 내장된 Fallback 정보를 통해 최소한의 관리 기능을 유지합니다.

### 3. Phoenix UI (다크 모드 기반 인터페이스)
Glassmorphism과 Vibrant Colors를 활용한 다크 모드 기반의 고급스러운 디자인을 제공합니다. 외부 프레임워크 없이 Vanilla JS와 Web Components만으로 구현되어 가볍고 빠른 반응 속도를 보장합니다.

### 4. Auth Bridge (인증 연동)
TACHYON SPA 대시보드와 세션을 물리적으로 동기화합니다. 운영자가 TACHYON 대시보드에 로그인된 상태라면, 별도의 추가 인증 없이 자연스럽게 tkadmin에 접근할 수 있습니다. Redis 기반의 실시간 세션 검증으로 TACHYON 로그아웃 시 즉시 연동 해제됩니다.

### 5. Watchdog 및 알림 시스템
서비스 상태를 실시간으로 감시하며, 장애 발생 시 자동 복구를 시도하고 관리자에게 알림(상단 배너, 뱃지)을 전송합니다. 모든 장애 및 복구 이력은 SQLite에 영구 보관되어 사후 감사 추적이 가능합니다.

### 6. CLI 통합 관리
한 줄의 명령어로 서비스 설치(`-i`), 제거(`-u`), 실행(`-r`), 종료(`-k`) 등을 처리합니다. systemd 서비스 등록, NGINX 리버스 프록시 설정, TACHYON 대시보드 인젝션까지 자동으로 수행됩니다.

### 7. 전문가 설정 편집기 (Monaco Editor)
TACHYON 솔루션 전반의 설정 파일(`.yml`, `.properties`, `.conf` 등)을 웹 브라우저에서 직접 편집할 수 있습니다. 자동 백업, YAML 구문 검증, 경로 순회(Path Traversal) 차단 등 안전장치가 내장되어 있습니다.

---

## 시스템 요구사항

| 항목 | 요구사항 |
|------|---------|
| **운영체제** | Linux (RHEL/CentOS 7 이상, Rocky Linux 8/9 등) |
| **서비스 관리** | systemd 활성화 필수 |
| **사전 설치** | TACHYON 솔루션 설치 완료 (기본 경로: `/usr/local/TACHYON/TTS40/`) |
| **웹 서버** | NGINX (리버스 프록시용, tkadmin이 자동 설정) |
| **네트워크 포트** | 기본 포트 `13700`, Recovery 포트 `13701` |
| **브라우저** | Chrome, Edge 등 최신 Chromium 기반 브라우저 권장 |

?> **팁**: tkadmin은 폐쇄망(Air-gap) 환경을 완벽히 지원합니다. 외부 CDN이나 인터넷 연결이 필요하지 않습니다.

---

## 시스템 구조 다이어그램

### 전체 아키텍처

```
                            +--------------------------+
                            |      웹 브라우저 (관리자)    |
                            |   Phoenix UI (다크 모드)    |
                            +------------+-------------+
                                         |
                                         | HTTPS (443)
                                         v
                            +------------+-------------+
                            |       NGINX              |
                            |    (리버스 프록시)          |
                            |  /tkadmin/ -> :13700     |
                            +------------+-------------+
                                         |
                         +---------------+---------------+
                         |                               |
                         v                               v
              +----------+----------+     +--------------+-----------+
              |      tkadmin        |     |  tkadmin Recovery Server |
              |   (메인 서버)        |     |     (긴급 관리용)          |
              |   포트: 13700       |     |     포트: 13701           |
              +----------+----------+     +--------------+-----------+
                         |                               |
                         |   Auth Bridge                 |   PAM 인증
                         |   (TACHYON JWT + Redis)       |   (OS 계정)
                         |                               |
              +----------v---------------------------------+
              |              TACHYON 솔루션 서비스             |
              |  (tachyon-shield, tachyon-server 등)        |
              +----+--------+--------+--------+--------+---+
                   |        |        |        |        |
                   v        v        v        v        v
              +--------+ +------+ +--------+ +-----+ +-----+
              |MariaDB | |Redis | |OpenSearch| |Kafka| | ... |
              | :3306  | |:6379 | | :9200   | |:9092| |     |
              +--------+ +------+ +--------+ +-----+ +-----+
```

### 인증 흐름

```
  TACHYON 대시보드 (SPA)
         |
         |  1. 사이드바/설정 페이지에서 tkadmin 링크 클릭
         v
  /tkadmin/bridge (Auth Bridge 페이지)
         |
         |  2. localStorage/sessionStorage에서 JWT 토큰 스캔
         v
  /tkadmin/auth?token=... (서버 검증)
         |
         |  3. JWT 서명 검증 + Redis 세션 존재 확인
         v
  tk_session 쿠키 발급 -> /tkadmin/ (메인 화면)
```

---

## 화면 구성 미리보기

<!-- 스크린샷: 대시보드 전체 화면 -->
![대시보드 전체 화면](assets/images/user/01_overview_dashboard.png)

tkadmin의 메인 화면은 다음과 같은 영역으로 구성됩니다:

- **상단 헤더 바**: 로고, 알림 버튼(뱃지 포함), 나가기 버튼
- **좌측 사이드바**: 메뉴 네비게이션 (접힘/펼침 지원)
- **메인 콘텐츠 영역**: 선택된 메뉴에 따라 대시보드, 설정 편집기, 로그 뷰어 등이 표시

---

## 다음 단계

- [설치 가이드](01-installation.md)로 이동하여 tkadmin을 설치하세요.
- [최초 접속](02-first-login.md)에서 로그인 및 화면 구성을 확인하세요.
